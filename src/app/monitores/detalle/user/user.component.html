
<div *ngIf="userService.monitor_usuario">
    
    <div class="card">
        <div class="card-body">
          <h5 class="card-title">Asignar Credenciales</h5>
          <!-- en el h6 va un link -->          
          <button type="button" class="btn btn-secondary btn-sm" (click)="cerrarMonitorUsuario()">Regresar</button>
         
          <div>
            <label></label>
            <p class="font-weight-bold">{{ monitor.nombrePersona }} {{ monitor.apellidoPersona }}</p>
          </div>

          <br>
          <form>

                            
            <div class="form-group row">
              <label for="username" class="col-form-label col-sm">Nombre de usuario *</label>
              <div class="col-sm">
                <input type="text" class="form-control" name="username" [(ngModel)]="usuario.username">
              </div>
            </div>
  
            <div class="form-group row">
              <label for="password" class="col-form-label col-sm">Contraseña *</label>
              <div class="col-sm">
                <input type="password" class="form-control" name="password" [(ngModel)]="usuario.password">
              </div>
            </div>


            <div class="form-group row">      
                  <div class="col-sm">
                    <div class="my-2">
                        <p>Seleccione un rol de la lista desplegable</p>
                    </div>
                    <label for="nombreRol" class="col-form-label">Roles</label>
                    <br>

                    <mat-form-field class="example-full-width">
                      <mat-label>Roles</mat-label>
                      <input type="text"
                             placeholder="Añadir Role"
                             aria-label="Role"
                             matInput
                             [formControl]="autocompleteControl"
                             [matAutocomplete]="auto">
                      <mat-autocomplete #auto="matAutocomplete" [displayWith]="showName" (optionSelected)="selectRole($event)">
                        <mat-option *ngFor="let role of rolesFiltrados | async" [value]="role">
                          {{ role.nombre }}
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>

                </div>
            </div>

            <!-- inicia tabla -->
            <div class="form-group row">
              <div class="col-sm table-responsive">

                  <table class="table table-striped table-hover table-sm">
                      <thead>
                          <tr>
                              <th>id</th>
                              <th>Rol</th>   
                              <th>Eliminar</th>                             
                          </tr>
                      </thead>
                      <tbody>
                          <tr *ngFor="let role of usuario.roles">
                              <td>{{ role.id }}</td>
                              <td>{{ role.nombre }}</td>
                              <td>
                                  <button class="btn btn-danger btn-sm" type="button" 
                                  (click)="quitRole(role.id)">x</button>
                              </td>
                          </tr>
                      </tbody>
                  </table>

              </div>
            </div>
            <!-- termina tabla -->

            <div class="form-group row">
                <div class="col-sm">
                    <button class="btn btn-dark btn-lg btn-block" role="button" (click)="asignarCredencialesMonitor()">Guardar</button>

                    <!-- <ng-template #elseBlock2>
                        <button class="btn btn-dark btn-lg btn-block" role="button" (click)="asignarCategoriaDeportista()">Editar</button>
                    </ng-template> -->

                </div>
            </div>

          </form>

        </div>
      </div>
    
</div>